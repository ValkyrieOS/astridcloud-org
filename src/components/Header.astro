---
const { variant = "default" } = Astro.props;
const isGolden = variant === "golden";
---

<header
  class="border-b border-neutral-800/50 bg-neutral-950/90 backdrop-blur-xl sticky top-0 z-50"
>
  <div class="mx-auto max-w-7xl px-6 h-16 flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="flex items-center gap-3 text-white group">
      <div class="relative">
        <img
          src="/favicon.svg"
          alt="AstridCloud"
          class="h-8 w-8 transition-transform group-hover:scale-110"
        />
        <div
          class:list={[
            "absolute inset-0 rounded-full blur-md opacity-0 group-hover:opacity-100 transition-opacity",
            isGolden ? "bg-yellow-500/20" : "bg-blue-500/20",
          ]}
        >
        </div>
      </div>
      <span class="font-bold text-lg">AstridCloud</span>
    </a>

    <!-- Navigation -->
    <nav
      aria-label="Principal"
      class="hidden md:flex items-center gap-8 text-sm font-medium"
    >
      <a
        href="/"
        class="text-neutral-400 hover:text-white transition-colors relative group"
      >
        Inicio
        <span
          class:list={[
            "absolute -bottom-5 left-0 w-full h-0.5 scale-x-0 group-hover:scale-x-100 transition-transform origin-left",
            isGolden
              ? "bg-gradient-to-r from-yellow-400 to-orange-500"
              : "bg-blue-500",
          ]}></span>
      </a>
      <a
        href="/bitchill"
        class="text-neutral-400 hover:text-white transition-colors relative group"
      >
        Bit&Chill
        <span
          class:list={[
            "absolute -bottom-5 left-0 w-full h-0.5 scale-x-0 group-hover:scale-x-100 transition-transform origin-left",
            isGolden
              ? "bg-gradient-to-r from-yellow-400 to-orange-500"
              : "bg-blue-500",
          ]}></span>
      </a>
      <a
        href="/equipo"
        class="text-neutral-400 hover:text-white transition-colors relative group"
      >
        Equipo
        <span
          class:list={[
            "absolute -bottom-5 left-0 w-full h-0.5 scale-x-0 group-hover:scale-x-100 transition-transform origin-left",
            isGolden
              ? "bg-gradient-to-r from-yellow-400 to-orange-500"
              : "bg-blue-500",
          ]}></span>
      </a>
      <a
        href="/astridcloud-plus"
        class="premium-link relative group flex items-center gap-2"
      >
        AstridCloud+
        <span class="premium-badge">Premium</span>
        <span
          class="absolute -bottom-5 left-0 w-full h-0.5 bg-gradient-to-r from-yellow-400 to-orange-500 scale-x-0 group-hover:scale-x-100 transition-transform origin-left"
        ></span>
      </a>
    </nav>

    <!-- Mobile Menu Button -->
    <button
      id="mobile-menu-button"
      class="md:hidden text-neutral-400 hover:text-white p-2"
      aria-label="Toggle menu"
    >
      <svg
        id="menu-icon-open"
        class="h-6 w-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
      <svg
        id="menu-icon-close"
        class="h-6 w-6 hidden"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18L18 6M6 6l12 12"></path>
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div
    id="mobile-menu"
    class="hidden md:hidden border-t border-neutral-800/50 bg-neutral-950/95 backdrop-blur-xl"
  >
    <nav class="px-6 py-4 flex flex-col gap-4">
      <a
        href="/"
        class="text-neutral-400 hover:text-white transition-colors py-2"
      >
        Inicio
      </a>
      <a
        href="/bitchill"
        class="text-neutral-400 hover:text-white transition-colors py-2"
      >
        Bit&Chill
      </a>
      <a
        href="/equipo"
        class="text-neutral-400 hover:text-white transition-colors py-2"
      >
        Equipo
      </a>
      <a
        href="/astridcloud-plus"
        class="premium-link-mobile flex items-center gap-2 py-2"
      >
        AstridCloud+
        <span class="premium-badge">Premium</span>
      </a>
    </nav>
  </div>
</header>

<script>
  const button = document.getElementById("mobile-menu-button");
  const menu = document.getElementById("mobile-menu");
  const iconOpen = document.getElementById("menu-icon-open");
  const iconClose = document.getElementById("menu-icon-close");

  button?.addEventListener("click", () => {
    menu?.classList.toggle("hidden");
    iconOpen?.classList.toggle("hidden");
    iconClose?.classList.toggle("hidden");
  });
</script>

<style>
  .premium-link {
    background: linear-gradient(
      135deg,
      rgba(251, 191, 36, 0.1),
      rgba(245, 158, 11, 0.1)
    );
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    border: 1px solid rgba(251, 191, 36, 0.2);
    color: rgb(251, 191, 36);
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .premium-link:hover {
    background: linear-gradient(
      135deg,
      rgba(251, 191, 36, 0.2),
      rgba(245, 158, 11, 0.2)
    );
    border-color: rgba(251, 191, 36, 0.4);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(251, 191, 36, 0.2);
  }

  .premium-link-mobile {
    color: rgb(251, 191, 36);
    font-weight: 600;
  }

  .premium-badge {
    font-size: 0.65rem;
    padding: 0.125rem 0.375rem;
    border-radius: 9999px;
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: #000;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
</style>
